<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StealTag</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="assets/style.css">
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark">
      <a href="http://microbit.org">
        <img src="assets/res/Microbit-logo-stacked.png" alt="">
      </a>
      <a class="navbar-brand px-3" href="#">StealTag</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav px-3">
          <li class="nav-item active">
            <a class="nav-link" href="#secInicio">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#secCarac">Características</a>
          </li>
          <li class="nav-item"><a href="#secMat" class="nav-link">Materiales</a></li>
          <li class="nav-item">
            <a class="nav-link" href="#secObj">Objetivo</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Integrantes
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Luis Durán</a></li>
              <li><a class="dropdown-item" href="#">Gastón Pérez</a></li>
              <li><a class="dropdown-item" href="#">Diego Algibar</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a href="#secCron" class="nav-link">Cronología</a>
          </li>
        </ul>
        <span class=""></span>
      </div>
    </nav>
  </header>
  <main class="container">
    <section id="secInicio" class="text-center justify-content-center">
      <div class="container">
        <h1>StealTag</h1>
        <div class="card-group m-auto">
          <div class="card">
            <img clase="card-img-top" src="assets/res/24250_microbit .png" alt="" class="card-img-top">
            <div class="card-body" id="descMicrobit">
              <h4 class="card-title">Microbit</h5>
                <div>
                  <p class="card-text">
                    El micro:bit es una pequeña tarjeta programable diseñada para que aprender a programar sea
                    fácil,
                    divertido y accesible para todos. Aquí tienes algunos detalles clave:
                  <ul>
                    <li>Tamaño y forma: El micro:bit tiene un tamaño de aproximadamente 4x5 cm, lo que lo hace
                      portátil
                      y
                      fácil de manipular.</li>
                    <li>Funciones visuales: Su parte frontal cuenta con una pantalla compuesta por 25 LED
                      organizados
                      en
                      una
                      cuadrícula de 5x5. Estos LED pueden mostrar imágenes, palabras y números. Además, actúan como
                      sensores de luz.</li>
                    <li>
                      Botones: Dispone de dos botones en la parte frontal que se pueden usar por separado o juntos
                      para
                      activar acciones.
                    </li>
                    <li>
                      Conectividad: El micro:bit puede comunicarse con otros micro:bits mediante radio y también
                      conectarse a otros dispositivos mediante Bluetooth.
                    </li>
                    <li>
                      Sensores: Incluye varios sensores:
                      <ul>
                        <li>
                          Acelerómetro: Mide las fuerzas en tres dimensiones, incluida la gravedad. Puedes usarlo
                          para
                          detectar movimientos o agitar el micro:bit.
                        </li>
                        <li>
                          Brújula: Encuentra el Norte magnético o mide campos magnéticos en tres dimensiones.
                        </li>
                        <li>
                          Sensor de temperatura: Permite medir la temperatura del entorno.
                        </li>
                        <li>
                          Micrófono (en la versión más reciente): Mide niveles de sonido y reacciona a ruidos
                          fuertes
                          o
                          suaves.
                        </li>
                      </ul>
                    </li>
                    <li>
                      Pines GPIO: Los pines GPIO te permiten conectar otros dispositivos electrónicos, como
                      auriculares,
                      sensores táctiles y más, para expandir las posibilidades del micro:bit.
                    </li>
                  </ul>
                  </p>
                </div>
                <a href="https://microbit.org/es-es/" class="btn btnColor m-2">Ir a la página</a>
            </div>
          </div>
          <div class="card">
            <img src="assets/res/Python.svg.png" alt="" class="card-img-top">
            <div class="card-body">
              <h4 class="card-title">Python</h4>
              <div>
                <p class="card-text">Python es un lenguaje de alto nivel interpretado que destaca por su legibilidad
                  y
                  su enfoque en la simplicidad. Algunas de sus características clave son:
                <ul>
                  <li>Legibilidad: La filosofía de Python se basa en escribir código claro y fácil de entender. Su
                    sintaxis utiliza sangrías en lugar de llaves, lo que lo hace más parecido al lenguaje humano.
                  </li>
                  <li>Multiparadigma: Python admite varios enfoques de programación, incluyendo la orientación a
                    objetos, la programación imperativa y, en menor medida, la programación funcional.</li>
                  <li>Portabilidad: Puedes ejecutar el mismo código Python en diferentes plataformas sin necesidad
                    de
                    modificaciones, lo que lo convierte en una excelente opción para proyectos multiplataforma.</li>
                </ul>
                </p>
              </div>
              <a href="https://python.org" class="btn btnColor m-2">Ir a la página</a>

            </div>
          </div>
        </div>
      </div>
      </div>
      </div>
    </section>
    <section id="secCarac">
      <div class="container">
        <div class="card text-start">
          <div class="card-body">
            <h4 class="card-title">Características del proyecto:</h4>
            <p class="card-text">
            <ul>
              <li>Nombre: Detector de movimiento a distancia para detectar robos</li>
              <li>Descripcion: Usando 2 o mas microbits, por medio de radiofrecuencia detectar el alejamiento de un
                objeto
                y
                avisar al emisor/receptor que el objeto se aleja de un rango "X".El mismo al alejarse emitirá un
                sonido
                (por
                medio de un buzzer) indicando que el objeto fue "robado".</li>
            </ul>
            </p>
          </div>
        </div>
      </div>
    </section>
    <section id="secObj">
      <div class="container">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Objetivos</h4>
            <p class="card-text">El objetivo del StealTag es facilitar la localización de objetos personales a través de
              la radiofrecuencia entre 2 o más microbit, con un enfoque en la facilidad de uso</p>
          </div>
        </div>

      </div>
    </section>
    <section id="secMat">
      <div class="container">
        <h2>Materiales</h2>
        <div class="card-group">
          <div class="card">
            <img class="card-img-top" src="assets/res/microbit.webp" alt="Title" />
            <div class="card-body d-flex flex-column">
              <h4 class="card-title mt-auto">Microbit</h4>
              <p class="card-text descMat">Text</p>
              <p class="card-text">Cantidad: 2</p>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="assets/res/buzzer.jpg" alt="Title" />
            <div class="card-body d-flex flex-column">
              <h4 class="card-title mt-auto">Buzzer</h4>
              <p class="card-text descMat">Text</p>
              <p class="card-text">Cantidad: 1</p>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="assets/res/Motor de vibracion.jpeg" alt="Title" />
            <div class="card-body d-flex flex-column">
              <h4 class="card-title mt-auto">Motor de vibración</h4>
              <p class="card-text descMat">Text</p>
              <p class="card-text">Cantidad: 1</p>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="assets/res/Baterias microbit.webp" alt="Title" />
            <div class="card-body d-flex flex-column">
              <h4 class="card-title mt-auto">Baterías</h4>
              <p class="card-text descMat">Text</p>
              <p class="card-text">Cantidad: 2(pares AAA)</p>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="assets/res/Cables cocodrilo.webp" alt="Title" />
            <div class="card-body d-flex flex-column">
              <h4 class="card-title mt-auto">Cocodrilos</h4>
              <p class="card-text descMat">Text</p>
              <p class="card-text">Cantidad: 2</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="secCron">
      <div class="container px-4">
        <div class="row wrapper border rounded-2 p-3">
          <div class="col-4">
            <nav id="cron-nav" class="h-100 flex-column align-items-stretch pe-4 border-end">
              <h2>Avances del proyecto</h2>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link" href="#item-1">21/08/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-2">28/08/2024</a>
                <nav class="nav-pills flex-column">


                </nav>
                <a class="nav-link" href="#item-3">4/09/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-4">11/09/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-5">18/09/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-6">25/09/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-7">02/10/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
                <a class="nav-link" href="#item-8">09/10/2024</a>
                <nav class="nav nav-pills flex-column">
                </nav>
              </nav>
            </nav>
          </div>

          <div class="col-8">
            <div data-bs-spy="scroll" data-bs-target="#cron-nav" data-bs-smooth-scroll="true" class="crontext"
              tabindex="0">
              <div id="item-1">
                <h4>21/08/2024</h4>
              </div>
              <div id="item-1-1">

                <p class="ms-3">-Procedemos a hacer una lluvia de ideas para realizar el proyecto.</p>
              </div>
              <div id="item-1-2">

                <p class="ms-3">-Elegimos mediante votación hacer un dispositivo que por medio de radiofrecuencia entre
                  ambos microbit detecte un cambio en la distancia y avise mediante el buzzer.</p>
              </div>
              <div id="item-2">
                <h4>28/08/2024</h4>
              </div>
              <div id="item-2-1">

                <p class="ms-3">-Comenzamos a programar en python el función de ambos microbit (uno como emisor y otro
                  como receptor)</p>
              </div>

              <div id="item-2-2">

                <p class="ms-3">-Hablamos con el profe y diagramamos la funcionalidad de que cuando se aleje el microbit
                  emisor del receptor el mismo emita un sonido por medio del buzzer.</p>
              </div>

              <div id="item-2-3">

                <p class="ms-3">-Agregamos el motor de vibración para complementar al buzzer en el aviso.</p>
              </div>
              <div id="item-3">
                <h4>4/09/2024</h4>
              </div>
              <div id="item-3-1">

                <p class="ms-3">-Seguimos avanzando en el código con distintas funcionalidades como: mostrar una
                  calavera
                  cuando el receptor reciba la señal en un umbral bajo de potencia.</p>
              </div>
              <div id="item-3-2">

                <p class="ms-3">-Comenzamos a diseñar la página web con bootstrap , HTML y css. Decidimos subirla a a
                  internet mediante GitHub pages.</p>
              </div>
              <div id="item-3-3">

                <p class="ms-3">-Iniciamos con el ambiente de testing funcional utilizando ambos microbits y moviéndonos
                  físicamente de lugar para ver el tema de la señal. Notamos que la medición de señal es muy inestable
                  para establecer un rango para la desconexión del receptor con el emisor.</p>
              </div>
              <div id="item-4">
                <h4>11/09/2024</h4>
                <div id="item-4-1">

                  <p class="ms-3">-Vemos caso en el cual el rango de radiofrecuencia del microbit no es como lo declara
                    en la página del fabricante. Ésto ya que intentamos programar para que a cierta distancia el emisor
                    detecte que el receptor está "fuera de rango" y así avisar. También intentamos desarrollar que al
                    encontrarse fuera de dicho rango se apague con la intención de ahorrar batería.
                  </p>
                </div>
              </div>
              <div id="item-5"></div>
              <h4>18/09/2024</h4>
              <div id="item-5-1">

                <p class="ms-3">-Ya que no se encuentra todo el equipo hablamos con el profesor de enviar código para
                  poder solucionar tema de radiofrecuencia. Pruebo con un microbit de un compañero en casa el motor de
                  vibración y funciona correctamente (posteriormente se harán pruebas en clase con emisor/receptor).</p>
              </div>
              <div id="item-6"></div>
              <h4>25/09/2024</h4>
              <div id="item-5-1">

                <p class="ms-3">-Mostramos código hasta la fecha:</p>
                <button type="button" class="btn btnColor btn-primary text" data-bs-toggle="modal"
                  data-bs-target="#codigo25_9">
                  Ver código
                </button>
                <div class="modal fade modal-xl" id="codigo25_9" data-bs-backdrop="static" data-bs-keyboard="false"
                  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Código 25/09/2024</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body text-start">
                        <pre>
EMISOR:
from microbit import *
import radio

# Configurar la radio
radio.on()
radio.config(channel=7)  # Elige un canal para que los dos micro:bits se comuniquen

while True:
    # Detectar si el micro:bit es sacudido bruscamente
    if accelerometer.was_gesture("shake"):
        # Obtener los datos del acelerómetro
        x = accelerometer.get_x()
        y = accelerometer.get_y()
        z = accelerometer.get_z()
        
        # Crear el mensaje con los datos del acelerómetro
        mensaje = "{},{},{}".format(x, y, z)
        
        # Enviar el mensaje por radio
        radio.send(mensaje)
        
        # Reproducir un sonido fuerte en el buzzer conectado a pin0
        display.show(Image.SURPRISED)
        pin0.write_digital(1)  # Activa el buzzer
        sleep(1000)  # Mantener el buzzer activo durante 1 segundo
        pin0.write_digital(0)  # Desactivar el buzzer
        display.clear()
        
    sleep(100)  # Evitar un bucle demasiado rápido

----------------------------------------------------------------------------------------------------------

RECEPTOR:
from microbit import *
import radio

# Configurar la radio
radio.on()
radio.config(channel=7)  # Asegúrate de que el canal sea el mismo que el emisor

while True:
    # Recibir mensajes por radio
    mensaje = radio.receive()
    
    if mensaje:
        # El mensaje contiene los valores del acelerómetro en formato "x,y,z"
        datos = mensaje.split(",")
        
        if len(datos) == 3:
            try:
                x = int(datos[0])
                y = int(datos[1])
                z = int(datos[2])
                
                # Mostrar los valores del acelerómetro en el micro:bit receptor
                display.scroll("X:{} Y:{} Z:{}".format(x, y, z))
                
                # Reproducir un sonido fuerte en el buzzer del receptor
                display.show(Image.SURPRISED)
                pin0.write_digital(1)  # Activa el buzzer
                sleep(1000)  # Mantener el buzzer activo durante 1 segundo
                pin0.write_digital(0)  # Desactivar el buzzer
                display.clear()
            except:
                pass  # Evitar errores si los datos no son válidos
    sleep(100)
                    </pre>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div id="item-7"></div>
              <h4>02/10/2024</h4>
              <div id="item-7-1">

                <p class="ms-3">-Mediante este código intentamos que el microbit por bucle y utilizando la
                  radiofrecuencia al alejarse el emisor del receptor (con un valor menor a -80 dbm) active una sonido
                  indicando si está en el rango o no.

                  Luego de la asistencia del profesor y reiteradas pruebas nos encontramos con la limitante de la
                  radiofrecuencia. Esto se debe a que en dicho método no nos da los valores estimados esperados para
                  poder desarrollar el proyecto correctamente.
                  Optamos por probar la alternativa del acelerómetro que cuenta el microbit para seguir desarrollando
                  pruebas.</p>
                <button type="button" class="btn btnColor btn-primary text" data-bs-toggle="modal"
                  data-bs-target="#codigo2_10">
                  Ver código
                </button>
                <div class="modal fade modal-xl" id="codigo2_10" data-bs-backdrop="static" data-bs-keyboard="false"
                  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Código 25/09/2024</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body text-start">
                        <pre>
EMISOR:
from microbit import *
import radio

# Configurar la radio
radio.on()
radio.config(channel=7)  # Elige un canal para que los dos micro:bits se comuniquen

while True:
  # Detectar si el micro:bit es sacudido bruscamente
  if accelerometer.was_gesture("shake"):
      # Obtener los datos del acelerómetro
      x = accelerometer.get_x()
      y = accelerometer.get_y()
      z = accelerometer.get_z()
      
      # Crear el mensaje con los datos del acelerómetro
      mensaje = "{},{},{}".format(x, y, z)
      
      # Enviar el mensaje por radio
      radio.send(mensaje)
      
      # Reproducir un sonido fuerte en el buzzer conectado a pin0
      display.show(Image.SURPRISED)
      pin0.write_digital(1)  # Activa el buzzer
      sleep(1000)  # Mantener el buzzer activo durante 1 segundo
      pin0.write_digital(0)  # Desactivar el buzzer
      display.clear()
      
  sleep(100)  # Evitar un bucle demasiado rápido

----------------------------------------------------------------------------------------------------------

RECEPTOR:
from microbit import *
import radio

# Configurar la radio
radio.on()
radio.config(channel=7)  # Asegúrate de que el canal sea el mismo que el emisor

while True:
  # Recibir mensajes por radio
  mensaje = radio.receive()
  
  if mensaje:
      # El mensaje contiene los valores del acelerómetro en formato "x,y,z"
      datos = mensaje.split(",")
      
      if len(datos) == 3:
          try:
              x = int(datos[0])
              y = int(datos[1])
              z = int(datos[2])
              
              # Mostrar los valores del acelerómetro en el micro:bit receptor
              display.scroll("X:{} Y:{} Z:{}".format(x, y, z))
              
              # Reproducir un sonido fuerte en el buzzer del receptor
              display.show(Image.SURPRISED)
              pin0.write_digital(1)  # Activa el buzzer
              sleep(1000)  # Mantener el buzzer activo durante 1 segundo
              pin0.write_digital(0)  # Desactivar el buzzer
              display.clear()
          except:
              pass  # Evitar errores si los datos no son válidos
  sleep(100)
                    </pre>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>
    <section>
      <h2>Código del emisor y receptor</h2>
      <div class="card-group text-center">
        <div class="card">
          <div class="card-body">
            <button type="button" class="btn btnColor btn-primary text" data-bs-toggle="modal"
              data-bs-target="#emisor2_10">
              Ver código emisor
            </button>
            <div class="modal fade modal-xl" id="emisor2_10" data-bs-backdrop="static" data-bs-keyboard="false"
              tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Código emisor 02/10/2024</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body text-start">
                    <pre>
from microbit import *
import radio

radio.on()
radio.config(channel=7)

umbral_movimiento = 600
x_anterior = accelerometer.get_x()
y_anterior = accelerometer.get_y()
z_anterior = accelerometer.get_z()

ultimo_keep_alive = running_time()

while True:
    x_actual = accelerometer.get_x()
    y_actual = accelerometer.get_y()
    z_actual = accelerometer.get_z()
    
    diferencia_x = abs(x_actual - x_anterior)
    diferencia_y = abs(y_actual - y_anterior)
    diferencia_z = abs(z_actual - z_anterior)
    
    if diferencia_x > umbral_movimiento or diferencia_y > umbral_movimiento or diferencia_z > umbral_movimiento:
        mensaje = "{},{},{}".format(x_actual, y_actual, z_actual)
        radio.send(mensaje)
        display.show(Image.SURPRISED)
        pin0.write_digital(1)
        sleep(1000)
        pin0.write_digital(0)
        display.clear()

    if running_time() - ultimo_keep_alive >= 30000:#30seg
        radio.send(":)")
        ultimo_keep_alive = running_time()
        sleep(100)

                    </pre>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <button type="button" class="btn btnColor btn-primary text" data-bs-toggle="modal"
              data-bs-target="#receptor2_10">
              Ver código receptor
            </button>
            <div class="modal fade" id="receptor2_10" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
              aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Código receptor 02/10/2024</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body text-start">
                    <pre>
from microbit import *
import radio

radio.on()
radio.config(channel=7)

while True:
    mensaje = radio.receive()
    
    if mensaje:
        if mensaje == ":)":
            display.show(Image.HAPPY)
            sleep(1000)
            display.clear()
        else:
            datos = mensaje.split(",")
            
            if len(datos) == 3:
                try:
                    x = int(datos[0])
                    y = int(datos[1])
                    z = int(datos[2])
                    
                    display.show(Image.SKULL)
                    pin0.write_digital(1)
                    sleep(1000)
                    pin0.write_digital(0)
                    display.clear()
                except:
                    pass
    
    sleep(100)

                    </pre>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
</body>

</html>